<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>JUCE: AudioThumbnail Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">JUCE
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">AudioThumbnail Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="AudioThumbnail" --><!-- doxytag: inherits="ChangeBroadcaster,AudioFormatWriter::ThreadedWriter::IncomingDataReceiver" -->
<p>Makes it easy to quickly draw scaled views of the waveform shape of an audio file.  
 <a href="classAudioThumbnail.html#details">More...</a></p>

<p>Inherits <a class="el" href="classChangeBroadcaster.html">ChangeBroadcaster</a>, and <a class="el" href="classAudioFormatWriter_1_1ThreadedWriter_1_1IncomingDataReceiver.html">AudioFormatWriter::ThreadedWriter::IncomingDataReceiver</a>.</p>

<p><a href="classAudioThumbnail-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#abfa7516538eb0518cddeec4c71cf329d">AudioThumbnail</a> (int sourceSamplesPerThumbnailSample, <a class="el" href="classAudioFormatManager.html">AudioFormatManager</a> &amp;formatManagerToUse, <a class="el" href="classAudioThumbnailCache.html">AudioThumbnailCache</a> &amp;cacheToUse)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an audio thumbnail.  <a href="#abfa7516538eb0518cddeec4c71cf329d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#ac4e25d85982477ec205c5e968f16a56c">~AudioThumbnail</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ac4e25d85982477ec205c5e968f16a56c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#ac7bd10908fcaa78a9983e3946e711d3c">clear</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears and resets the thumbnail.  <a href="#ac7bd10908fcaa78a9983e3946e711d3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#ae64db3922a07a85201dfac0c65725957">setSource</a> (<a class="el" href="classInputSource.html">InputSource</a> *newSource)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the file or stream that contains the audio file.  <a href="#ae64db3922a07a85201dfac0c65725957"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#a1ddcdc952b6f5a8d488511541effc258">setReader</a> (<a class="el" href="classAudioFormatReader.html">AudioFormatReader</a> *newReader, <a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a> hashCode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the thumbnail an <a class="el" href="classAudioFormatReader.html" title="Reads samples from an audio file stream.">AudioFormatReader</a> to use directly.  <a href="#a1ddcdc952b6f5a8d488511541effc258"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#ab60422fa9ae9f951de8bb1dbb999d81f">reset</a> (int numChannels, double sampleRate, <a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a> totalSamplesInSource=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the thumbnail, ready for adding data with the specified format.  <a href="#ab60422fa9ae9f951de8bb1dbb999d81f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#aa7045231cdc1bf6d5ec2f9b47dd257d2">addBlock</a> (<a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a> sampleNumberInSource, const <a class="el" href="classAudioSampleBuffer.html">AudioSampleBuffer</a> &amp;newData, int startOffsetInBuffer, int numSamples)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a block of level data to the thumbnail.  <a href="#aa7045231cdc1bf6d5ec2f9b47dd257d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#a59680950d18da52b3342f65cd44d9ecd">loadFrom</a> (<a class="el" href="classInputStream.html">InputStream</a> &amp;input)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reloads the low res thumbnail data from an input stream.  <a href="#a59680950d18da52b3342f65cd44d9ecd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#adeb15dd8aa79320eccc122ed07488e9b">saveTo</a> (<a class="el" href="classOutputStream.html">OutputStream</a> &amp;output) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the low res thumbnail data to an output stream.  <a href="#adeb15dd8aa79320eccc122ed07488e9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#a284472a69afc960e970ad75b2e3cfa08">getNumChannels</a> () const noexcept</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of channels in the file.  <a href="#a284472a69afc960e970ad75b2e3cfa08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#aba82b9821fecfbb7efc88172f9c5a0c3">getTotalLength</a> () const noexcept</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the length of the audio file, in seconds.  <a href="#aba82b9821fecfbb7efc88172f9c5a0c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#ac461e6c816b5261ed3b519a9355220b5">drawChannel</a> (<a class="el" href="classGraphics.html">Graphics</a> &amp;g, const <a class="el" href="classRectangle.html">Rectangle</a>&lt; int &gt; &amp;area, double startTimeSeconds, double endTimeSeconds, int channelNum, float verticalZoomFactor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the waveform for a channel.  <a href="#ac461e6c816b5261ed3b519a9355220b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#ab11c7e0733a98b65bf0516815e007971">drawChannels</a> (<a class="el" href="classGraphics.html">Graphics</a> &amp;g, const <a class="el" href="classRectangle.html">Rectangle</a>&lt; int &gt; &amp;area, double startTimeSeconds, double endTimeSeconds, float verticalZoomFactor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the waveforms for all channels in the thumbnail.  <a href="#ab11c7e0733a98b65bf0516815e007971"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#a79cf1d2730f78d59307c3aadba1ab047">isFullyLoaded</a> () const noexcept</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the low res preview is fully generated.  <a href="#a79cf1d2730f78d59307c3aadba1ab047"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#a09e6d388d7aee2e403a8aec5a1077a43">getNumSamplesFinished</a> () const noexcept</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of samples that have been set in the thumbnail.  <a href="#a09e6d388d7aee2e403a8aec5a1077a43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#a0381d43718a754be2546d9a7dfcaac32">getApproximatePeak</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the highest level in the thumbnail.  <a href="#a0381d43718a754be2546d9a7dfcaac32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#a17fcf3708965029fffba682dfdfa8e1d">getApproximateMinMax</a> (double startTime, double endTime, int channelIndex, float &amp;minValue, float &amp;maxValue) const noexcept</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the approximate min and max levels from a section of the thumbnail.  <a href="#a17fcf3708965029fffba682dfdfa8e1d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioThumbnail.html#af2f69ffd83e1591fa026ac6dc6caa5e7">getHashCode</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the hash code that was set by <a class="el" href="classAudioThumbnail.html#ae64db3922a07a85201dfac0c65725957" title="Specifies the file or stream that contains the audio file.">setSource()</a> or <a class="el" href="classAudioThumbnail.html#a1ddcdc952b6f5a8d488511541effc258" title="Gives the thumbnail an AudioFormatReader to use directly.">setReader()</a>.  <a href="#af2f69ffd83e1591fa026ac6dc6caa5e7"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Makes it easy to quickly draw scaled views of the waveform shape of an audio file. </p>
<p>To use this class, just create an AudioThumbNail class for the file you want to draw, call setSource to tell it which file or resource to use, then call <a class="el" href="classAudioThumbnail.html#ac461e6c816b5261ed3b519a9355220b5" title="Draws the waveform for a channel.">drawChannel()</a> to draw it.</p>
<p>The class will asynchronously scan the wavefile to create its scaled-down view, so you should make your UI repaint itself as this data comes in. To do this, the <a class="el" href="classAudioThumbnail.html" title="Makes it easy to quickly draw scaled views of the waveform shape of an audio file.">AudioThumbnail</a> is a <a class="el" href="classChangeBroadcaster.html" title="Holds a list of ChangeListeners, and sends messages to them when instructed.">ChangeBroadcaster</a>, and will broadcast a message when its listeners should repaint themselves.</p>
<p>The thumbnail stores an internal low-res version of the wave data, and this can be loaded and saved to avoid having to scan the file again.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAudioThumbnailCache.html" title="An instance of this class is used to manage multiple AudioThumbnail objects.">AudioThumbnailCache</a> </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abfa7516538eb0518cddeec4c71cf329d"></a><!-- doxytag: member="AudioThumbnail::AudioThumbnail" ref="abfa7516538eb0518cddeec4c71cf329d" args="(int sourceSamplesPerThumbnailSample, AudioFormatManager &amp;formatManagerToUse, AudioThumbnailCache &amp;cacheToUse)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAudioThumbnail.html#abfa7516538eb0518cddeec4c71cf329d">AudioThumbnail::AudioThumbnail</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sourceSamplesPerThumbnailSample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAudioFormatManager.html">AudioFormatManager</a> &amp;&#160;</td>
          <td class="paramname"><em>formatManagerToUse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAudioThumbnailCache.html">AudioThumbnailCache</a> &amp;&#160;</td>
          <td class="paramname"><em>cacheToUse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates an audio thumbnail. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sourceSamplesPerThumbnailSample</td><td>when creating a stored, low-res version of the audio data, this is the scale at which it should be done. (This number is the number of original samples that will be averaged for each low-res sample) </td></tr>
    <tr><td class="paramname">formatManagerToUse</td><td>the audio format manager that is used to open the file </td></tr>
    <tr><td class="paramname">cacheToUse</td><td>an instance of an <a class="el" href="classAudioThumbnailCache.html" title="An instance of this class is used to manage multiple AudioThumbnail objects.">AudioThumbnailCache</a> - this provides a background thread and storage that is used to by the thumbnail, and the cache object can be shared between multiple thumbnails </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac4e25d85982477ec205c5e968f16a56c"></a><!-- doxytag: member="AudioThumbnail::~AudioThumbnail" ref="ac4e25d85982477ec205c5e968f16a56c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAudioThumbnail.html#ac4e25d85982477ec205c5e968f16a56c">AudioThumbnail::~AudioThumbnail</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac7bd10908fcaa78a9983e3946e711d3c"></a><!-- doxytag: member="AudioThumbnail::clear" ref="ac7bd10908fcaa78a9983e3946e711d3c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#ac7bd10908fcaa78a9983e3946e711d3c">AudioThumbnail::clear</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clears and resets the thumbnail. </p>

</div>
</div>
<a class="anchor" id="ae64db3922a07a85201dfac0c65725957"></a><!-- doxytag: member="AudioThumbnail::setSource" ref="ae64db3922a07a85201dfac0c65725957" args="(InputSource *newSource)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classAudioThumbnail.html#ae64db3922a07a85201dfac0c65725957">AudioThumbnail::setSource</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInputSource.html">InputSource</a> *&#160;</td>
          <td class="paramname"><em>newSource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Specifies the file or stream that contains the audio file. </p>
<p>For a file, just call </p>
<div class="fragment"><pre class="fragment">        <a class="code" href="classAudioThumbnail.html#ae64db3922a07a85201dfac0c65725957" title="Specifies the file or stream that contains the audio file.">setSource</a> (<span class="keyword">new</span> <a class="code" href="classFileInputSource.html" title="A type of InputSource that represents a normal file.">FileInputSource</a> (file))
</pre></div><p>You can pass a zero in here to clear the thumbnail. The source that is passed in will be deleted by this object when it is no longer needed. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the source could be opened as a valid audio file, false if this failed for some reason. </dd></dl>

</div>
</div>
<a class="anchor" id="a1ddcdc952b6f5a8d488511541effc258"></a><!-- doxytag: member="AudioThumbnail::setReader" ref="a1ddcdc952b6f5a8d488511541effc258" args="(AudioFormatReader *newReader, int64 hashCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#a1ddcdc952b6f5a8d488511541effc258">AudioThumbnail::setReader</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAudioFormatReader.html">AudioFormatReader</a> *&#160;</td>
          <td class="paramname"><em>newReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a>&#160;</td>
          <td class="paramname"><em>hashCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gives the thumbnail an <a class="el" href="classAudioFormatReader.html" title="Reads samples from an audio file stream.">AudioFormatReader</a> to use directly. </p>
<p>This will start parsing the audio in a background thread (unless the hash code can be looked-up successfully in the thumbnail cache). Note that the reader object will be held by the thumbnail and deleted later when no longer needed. The thumbnail will actually keep hold of this reader until you clear the thumbnail or change the input source, so the file will be held open for all this time. If you don't want the thumbnail to keep a file handle open continuously, you should use the <a class="el" href="classAudioThumbnail.html#ae64db3922a07a85201dfac0c65725957" title="Specifies the file or stream that contains the audio file.">setSource()</a> method instead, which will only open the file when it needs to. </p>

</div>
</div>
<a class="anchor" id="ab60422fa9ae9f951de8bb1dbb999d81f"></a><!-- doxytag: member="AudioThumbnail::reset" ref="ab60422fa9ae9f951de8bb1dbb999d81f" args="(int numChannels, double sampleRate, int64 totalSamplesInSource=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#ab60422fa9ae9f951de8bb1dbb999d81f">AudioThumbnail::reset</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sampleRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a>&#160;</td>
          <td class="paramname"><em>totalSamplesInSource</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resets the thumbnail, ready for adding data with the specified format. </p>
<p>If you're going to generate a thumbnail yourself, call this before using <a class="el" href="classAudioThumbnail.html#aa7045231cdc1bf6d5ec2f9b47dd257d2" title="Adds a block of level data to the thumbnail.">addBlock()</a> to add the data. </p>

<p>Implements <a class="el" href="classAudioFormatWriter_1_1ThreadedWriter_1_1IncomingDataReceiver.html#a48e39e836142669e489b04389123536a">AudioFormatWriter::ThreadedWriter::IncomingDataReceiver</a>.</p>

</div>
</div>
<a class="anchor" id="aa7045231cdc1bf6d5ec2f9b47dd257d2"></a><!-- doxytag: member="AudioThumbnail::addBlock" ref="aa7045231cdc1bf6d5ec2f9b47dd257d2" args="(int64 sampleNumberInSource, const AudioSampleBuffer &amp;newData, int startOffsetInBuffer, int numSamples)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#aa7045231cdc1bf6d5ec2f9b47dd257d2">AudioThumbnail::addBlock</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a>&#160;</td>
          <td class="paramname"><em>sampleNumberInSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAudioSampleBuffer.html">AudioSampleBuffer</a> &amp;&#160;</td>
          <td class="paramname"><em>newData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>startOffsetInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a block of level data to the thumbnail. </p>
<p>Call <a class="el" href="classAudioThumbnail.html#ab60422fa9ae9f951de8bb1dbb999d81f" title="Resets the thumbnail, ready for adding data with the specified format.">reset()</a> before using this, to tell the thumbnail about the data format. </p>

<p>Implements <a class="el" href="classAudioFormatWriter_1_1ThreadedWriter_1_1IncomingDataReceiver.html#aa4fbc037fadc84e796c5840fdf920063">AudioFormatWriter::ThreadedWriter::IncomingDataReceiver</a>.</p>

</div>
</div>
<a class="anchor" id="a59680950d18da52b3342f65cd44d9ecd"></a><!-- doxytag: member="AudioThumbnail::loadFrom" ref="a59680950d18da52b3342f65cd44d9ecd" args="(InputStream &amp;input)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#a59680950d18da52b3342f65cd44d9ecd">AudioThumbnail::loadFrom</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInputStream.html">InputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reloads the low res thumbnail data from an input stream. </p>
<p>This is not an audio file stream! It takes a stream of thumbnail data that would previously have been created by the <a class="el" href="classAudioThumbnail.html#adeb15dd8aa79320eccc122ed07488e9b" title="Saves the low res thumbnail data to an output stream.">saveTo()</a> method. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAudioThumbnail.html#adeb15dd8aa79320eccc122ed07488e9b" title="Saves the low res thumbnail data to an output stream.">saveTo</a> </dd></dl>

</div>
</div>
<a class="anchor" id="adeb15dd8aa79320eccc122ed07488e9b"></a><!-- doxytag: member="AudioThumbnail::saveTo" ref="adeb15dd8aa79320eccc122ed07488e9b" args="(OutputStream &amp;output) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#adeb15dd8aa79320eccc122ed07488e9b">AudioThumbnail::saveTo</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOutputStream.html">OutputStream</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves the low res thumbnail data to an output stream. </p>
<p>The data that is written can later be reloaded using <a class="el" href="classAudioThumbnail.html#a59680950d18da52b3342f65cd44d9ecd" title="Reloads the low res thumbnail data from an input stream.">loadFrom()</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAudioThumbnail.html#a59680950d18da52b3342f65cd44d9ecd" title="Reloads the low res thumbnail data from an input stream.">loadFrom</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a284472a69afc960e970ad75b2e3cfa08"></a><!-- doxytag: member="AudioThumbnail::getNumChannels" ref="a284472a69afc960e970ad75b2e3cfa08" args="() const noexcept" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAudioThumbnail.html#a284472a69afc960e970ad75b2e3cfa08">AudioThumbnail::getNumChannels</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of channels in the file. </p>

</div>
</div>
<a class="anchor" id="aba82b9821fecfbb7efc88172f9c5a0c3"></a><!-- doxytag: member="AudioThumbnail::getTotalLength" ref="aba82b9821fecfbb7efc88172f9c5a0c3" args="() const noexcept" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classAudioThumbnail.html#aba82b9821fecfbb7efc88172f9c5a0c3">AudioThumbnail::getTotalLength</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the length of the audio file, in seconds. </p>

</div>
</div>
<a class="anchor" id="ac461e6c816b5261ed3b519a9355220b5"></a><!-- doxytag: member="AudioThumbnail::drawChannel" ref="ac461e6c816b5261ed3b519a9355220b5" args="(Graphics &amp;g, const Rectangle&lt; int &gt; &amp;area, double startTimeSeconds, double endTimeSeconds, int channelNum, float verticalZoomFactor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#ac461e6c816b5261ed3b519a9355220b5">AudioThumbnail::drawChannel</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGraphics.html">Graphics</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classRectangle.html">Rectangle</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>startTimeSeconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>endTimeSeconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>verticalZoomFactor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Draws the waveform for a channel. </p>
<p>The waveform will be drawn within the specified rectangle, where startTime and endTime specify the times within the audio file that should be positioned at the left and right edges of the rectangle.</p>
<p>The waveform will be scaled vertically so that a full-volume sample will fill the rectangle vertically, but you can also specify an extra vertical scale factor with the verticalZoomFactor parameter. </p>

</div>
</div>
<a class="anchor" id="ab11c7e0733a98b65bf0516815e007971"></a><!-- doxytag: member="AudioThumbnail::drawChannels" ref="ab11c7e0733a98b65bf0516815e007971" args="(Graphics &amp;g, const Rectangle&lt; int &gt; &amp;area, double startTimeSeconds, double endTimeSeconds, float verticalZoomFactor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#ab11c7e0733a98b65bf0516815e007971">AudioThumbnail::drawChannels</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGraphics.html">Graphics</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classRectangle.html">Rectangle</a>&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>startTimeSeconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>endTimeSeconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>verticalZoomFactor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Draws the waveforms for all channels in the thumbnail. </p>
<p>This will call <a class="el" href="classAudioThumbnail.html#ac461e6c816b5261ed3b519a9355220b5" title="Draws the waveform for a channel.">drawChannel()</a> to render each of the thumbnail's channels, stacked above each other within the specified area.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAudioThumbnail.html#ac461e6c816b5261ed3b519a9355220b5" title="Draws the waveform for a channel.">drawChannel</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a79cf1d2730f78d59307c3aadba1ab047"></a><!-- doxytag: member="AudioThumbnail::isFullyLoaded" ref="a79cf1d2730f78d59307c3aadba1ab047" args="() const noexcept" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classAudioThumbnail.html#a79cf1d2730f78d59307c3aadba1ab047">AudioThumbnail::isFullyLoaded</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the low res preview is fully generated. </p>

</div>
</div>
<a class="anchor" id="a09e6d388d7aee2e403a8aec5a1077a43"></a><!-- doxytag: member="AudioThumbnail::getNumSamplesFinished" ref="a09e6d388d7aee2e403a8aec5a1077a43" args="() const noexcept" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a> <a class="el" href="classAudioThumbnail.html#a09e6d388d7aee2e403a8aec5a1077a43">AudioThumbnail::getNumSamplesFinished</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of samples that have been set in the thumbnail. </p>

</div>
</div>
<a class="anchor" id="a0381d43718a754be2546d9a7dfcaac32"></a><!-- doxytag: member="AudioThumbnail::getApproximatePeak" ref="a0381d43718a754be2546d9a7dfcaac32" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classAudioThumbnail.html#a0381d43718a754be2546d9a7dfcaac32">AudioThumbnail::getApproximatePeak</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the highest level in the thumbnail. </p>
<p>Note that because the thumb only stores low-resolution data, this isn't an accurate representation of the highest value, it's only a rough approximation. </p>

</div>
</div>
<a class="anchor" id="a17fcf3708965029fffba682dfdfa8e1d"></a><!-- doxytag: member="AudioThumbnail::getApproximateMinMax" ref="a17fcf3708965029fffba682dfdfa8e1d" args="(double startTime, double endTime, int channelIndex, float &amp;minValue, float &amp;maxValue) const noexcept" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioThumbnail.html#a17fcf3708965029fffba682dfdfa8e1d">AudioThumbnail::getApproximateMinMax</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>endTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channelIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>minValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>maxValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads the approximate min and max levels from a section of the thumbnail. </p>
<p>The lowest and highest samples are returned in minValue and maxValue, but obviously because the thumb only stores low-resolution data, these numbers will only be a rough approximation of the true values. </p>

</div>
</div>
<a class="anchor" id="af2f69ffd83e1591fa026ac6dc6caa5e7"></a><!-- doxytag: member="AudioThumbnail::getHashCode" ref="af2f69ffd83e1591fa026ac6dc6caa5e7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="juce__MathsFunctions_8h.html#aecfc3c54bd29ad5964e1c1c3ccbf89df">int64</a> <a class="el" href="classAudioThumbnail.html#af2f69ffd83e1591fa026ac6dc6caa5e7">AudioThumbnail::getHashCode</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the hash code that was set by <a class="el" href="classAudioThumbnail.html#ae64db3922a07a85201dfac0c65725957" title="Specifies the file or stream that contains the audio file.">setSource()</a> or <a class="el" href="classAudioThumbnail.html#a1ddcdc952b6f5a8d488511541effc258" title="Gives the thumbnail an AudioFormatReader to use directly.">setReader()</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="juce__AudioThumbnail_8h.html">juce_AudioThumbnail.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/>
<address class="footer"><small>All content &copy Raw Material Software Ltd. -- Generated on Tue Apr 10 2012 12:41:39 by&#160;<a href="http://www.doxygen.org/index.html">doxygen</a> 1.7.6.1</small></address><br/>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-19759318-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body>
</html>
